<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body onl>
    <h1>가위 바위 보 게임</h1>
    <p>컴퓨터와 가위 바위 보 게임을 합니다. 양쪽의 기보포인트는 10이며,지는 경우 포인트을 빼게됩니다.준비가 되면 아래 버튼을 클릭 해주세요. </p>
    <button type="button" onclick="myenv.play()">게임시작</button>
    <p id='showLow'></p>

</body>
<script>
    // var myArr=['가위', '바위', '보'];
    // var myval =window.prompt('0-ga, 1-ba,2-bo');
    // console.log(myArr[Number(myval)]);
    // var car ={
    //     fu:function(){
    //         for(var i=1;i<=10;i++){
    //             console.log(i);
    //         }
    //     },
    //     myarr:[1,2,3,4,5]
    // }
    // var computer={point:30};
    // var me={point:30};
    // me.point=me.point-3;
    // 선 , 후
    // var computer = ['가위','바위','보'];
    // var user = ['가위','바위','보']; 
    var myenv ={
        elem:document.getElementById('showLow'),
        ggb:['가위','바위','보'],
        play:function(){
            while(com.point>=0 && me.point>=0){
                gameStart();
               
            };
             this.elem.textContent =this.matchLog;
        },
        matchLog:""
    };  
    var com={
        point:10,
        randNo:function(){
            var getVal = Math.floor(Math.random()*3);
            return [getVal,myenv.ggb[getVal]];
            console.log(ggb);
        }
    };
    var me ={
        point:10,
        randNo:function(){
            var gerVal =window.prompt('0:가위,1:바위,2:보')
            getVal =Number(gerVal);
            return [getVal,myenv.ggb[getVal]];
            console.log(ggb);
        }

    };

    function fnGaBaBo(computer,user){
        var resArr=[];
        if(computer===0){
            if(user ===1){
                resArr.push('com');
                resArr.push(2);
            }else if(user===2){
                resArr.push("me");
                resArr.push(1);
            }
        }else if(computer === 1){
            if(user === 0){
                resArr.push('me');
                resArr.push(2);
            }else if(user === 2){
                resArr.push('com');
                resArr.push(3);
            }
        }else if(computer === 2){
            if(user ===0){
                resArr.push('com');
                resArr.push(1);
            }else if(user === 1){
                resArr.push('me');
                resArr.push(3);
            }

        }
        return resArr;
    }
    function gameStart(){
       var curlog= "";
       var comVal = com.randNo();
       var meVal = me.randNo();
       var matchRes=fnGaBaBo(comVal[0],meVal[0]);
        if(matchRes.length === 0){
            console.log('무승부');
            console.log(matchRes.length);
        }else{
            if(matchRes[0]==="com"){
                com.point=com.point-matchRes[1];
            }else if(matchRes[0]==="me"){
                me.point= me.point-matchRes[1];
            } 
            curlog +='컴:'+comVal[1];
            curlog +=',사용자:'+meVal[1];
            curlog +=matchRes[0]+'이패하여'+matchRes[1]+"점이 감점";
            curlog +="현재스코어는 컴:"+com.point+"사용자:"+me.point+"/";
            console.log(curlog);
            myenv.matchLog += curlog;
        }
    //    if(com.point<=0 || me.point<=0){

    //    }
   
    }
</script>
</html>